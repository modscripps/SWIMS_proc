function [latp,lonp]=MakeStarPattern(lato,lono,ro,tho,plotit,latmin,latmax,lonmin,lonmax);%function [latp,lonp=MakeStarPattern(lato,lono,ro,tho,plotit,latmin,latmax,lonmin,lonmax);%Make lat,lon pairs for a star pattern with radius ro (in m)%and centered at lato and lono in decimal degrees (lon negative for west).%tho is the angle CCW from east of the first point.%plotit is 0 for no plot, 1 for a line plot of the shore, 2 for a grayscale depth contour.%If plotit==3 the waypoints will be overplotted on the current axes, without redrawing the topo contours.%latmin,latmax,lonmin,lonmax are the plot limits - it's unnecessary to specifiy these if not plotting.%If they are unspecified, defaults for South Whidbey bank are used.%4/02 MHA.%Typical values:%plotit=2;%tho=0;%ro=800;%in m%lato=47.95;%lono=-122.55;theta=tho:60:360+tho;xp=ro*cos(theta/180*pi);yp=ro*sin(theta/180*pi);latmid=lato;re=6.3767e+006;latp1=lato+yp*360/2/pi/re;lonp1=lono-xp*360/2/pi/re/cos(latmid/180*pi);%Now put in order to do lines rotating clockwise, and return to the beginninglonp=lonp1([1 4 3 6 5 2 1]);latp=latp1([1 4 3 6 5 2 1]);%Now plot!if nargin <=5     latmin=47.7;    latmax=48;    lonmin=122.35;    lonmax=122.6;endif plotit==1    PSShorePlot(latmin,latmax,lonmin,lonmax);    hold on    h=plot(-lonp,latp,'r.');    h1=plot(-lonp,latp,'b-');    set(h,'MarkerSize',8)        hold offelseif plotit==2    PSBathyPlot(latmin,latmax,lonmin,lonmax);    hold on    h=plot(-lonp,latp,'r.');    h1=plot(-lonp,latp,'b-');    set(h,'MarkerSize',8)        hold offelseif plotit==3    %plot only waypoints in the current figure.    hold on    h=plot(-lonp,latp,'r.');    h1=plot(-lonp,latp,'b-');    set(h,'MarkerSize',8)        hold offenddxdist=diff(xp);dydist=diff(yp);ds=sqrt(dxdist.^2+dydist.^2);totdist=sum(ds);disp(['Total distance: ' num2str(totdist/1000) ' km'])